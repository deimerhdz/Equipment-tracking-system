import{a as C}from"./chunk-BJJWRXLE.js";import{a as U,b as f,c as L,d as O,e as G,f as $,g as z,h as H,l as J,m as K}from"./chunk-JBJS33BQ.js";import{$ as S,D as a,H as l,J as I,K as i,L as t,M as c,N as V,P as h,Q as N,R as n,S as d,U as x,V as R,Z as D,ga as P,ia as y,ja as j,k as A,ka as B,ma as q,o as E,pa as T,q as u,r as g,s as b,v as _,w as F,z as M}from"./chunk-LDKAS3T6.js";function X(o,e){if(o&1){let s=V();i(0,"tr")(1,"td"),n(2),t(),i(3,"td"),c(4,"img",5),t(),i(5,"td"),n(6),t(),i(7,"td"),n(8),t(),i(9,"td"),n(10),t(),i(11,"td"),n(12),t(),i(13,"td")(14,"button",6),h("click",function(){let p=_(s).$implicit,v=N();return F(v.editEquipment(p._id))}),n(15,"Editar"),t(),n(16,"\xA0 "),i(17,"button",7),h("click",function(){let p=_(s).$implicit,v=N();return F(v.deletEequipment(p._id))}),n(18,"Eliminar"),t()()()}if(o&2){let s=e.$implicit;a(2),d(s._id),a(2),l("src",s.photo,M)("alt",s.name),a(2),d(s.name),a(2),d(s.description),a(2),d(s.category),a(2),d(s.stock)}}var Y=()=>["/dashboard/equipments/new-equipment"],Q=(()=>{let e=class e{constructor(){this.equipmentService=u(C),this.equipments=[],this.router=u(y)}ngOnInit(){this.listEquipments()}editEquipment(r){this.router.navigateByUrl("/dashboard/equipments/edit-equipment/"+r)}listEquipments(){this.equipmentService.getAllEquipments().subscribe(r=>{this.equipments=r.equipments})}deletEequipment(r){}};e.\u0275fac=function(m){return new(m||e)},e.\u0275cmp=g({type:e,selectors:[["app-equipment-page"]],standalone:!0,features:[x],decls:24,vars:3,consts:[[1,"col-md-12"],["routerLinkActive","active",1,"btn","btn-primary",3,"routerLink"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"card-img",3,"src","alt"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(m,p){m&1&&(i(0,"div",0)(1,"h3"),n(2," Equipment list "),t(),i(3,"a",1),n(4,"Agregar reporte"),t(),i(5,"table",2)(6,"thead")(7,"tr")(8,"th",3),n(9,"#id"),t(),i(10,"th",3),n(11,"Photo"),t(),i(12,"th",3),n(13,"name"),t(),i(14,"th",3),n(15,"Description"),t(),i(16,"th",3),n(17,"category"),t(),i(18,"th",3),n(19,"Stock"),t(),i(20,"th",3),n(21,"Acciones"),t()()(),i(22,"tbody"),I(23,X,19,7,"tr",4),t()()()),m&2&&(a(3),l("routerLink",R(2,Y)),a(20),l("ngForOf",p.equipments))},dependencies:[q,j,B,S,D]});let o=e;return o})();var w=(()=>{let e=class e{constructor(){this.fb=u(J),this.equipmentService=u(C),this.authService=u(T),this.router=u(y),this.equipmentForm=this.fb.group({name:["",f.required],description:["",f.required],stock:["",f.required],category:["",f.required],user:["",f.required],_id:[""]}),this.activateRoute=u(P)}ngOnInit(){this.equipmentForm.controls.user.setValue(this.authService.currentUser().uid),this.router.url.includes("edit-equipment")&&this.activateRoute.params.pipe(A(({id:r})=>this.equipmentService.getEquipmentById(r))).subscribe(r=>{if(!r)return this.router.navigateByUrl("/dashboard/equipments");this.equipmentForm.reset(r)})}get currentEquipment(){return this.equipmentForm.value}save(){if(this.currentEquipment._id){this.equipmentService.updateEquipment(this.currentEquipment).subscribe(r=>{this.router.navigateByUrl("/dashboard/equipments")});return}this.equipmentService.saveEquipment(this.currentEquipment).subscribe(r=>{this.router.navigateByUrl("/dashboard/equipments")})}};e.\u0275fac=function(m){return new(m||e)},e.\u0275cmp=g({type:e,selectors:[["app-add-equipment-page"]],standalone:!0,features:[x],decls:22,vars:2,consts:[[1,"col-md-6",3,"formGroup","submit"],[1,"mb-3"],["for",""],["formControlName","name","type","text",1,"form-control"],["formControlName","description","type","text",1,"form-control"],["formControlName","category","type","text",1,"form-control"],["formControlName","stock","type","number",1,"form-control"],[1,"btn","btn-success",3,"disabled"]],template:function(m,p){m&1&&(i(0,"form",0),h("submit",function(){return p.save()}),i(1,"h3"),n(2,"New Equipment"),t(),i(3,"div",1)(4,"label",2),n(5,"Name"),t(),c(6,"input",3),t(),i(7,"div",1)(8,"label",2),n(9,"Description"),t(),c(10,"input",4),t(),i(11,"div",1)(12,"label",2),n(13,"category"),t(),c(14,"input",5),t(),i(15,"div",1)(16,"label",2),n(17,"stock"),t(),c(18,"input",6),t(),i(19,"div",1)(20,"button",7),n(21,"Agregar"),t()()()),m&2&&(l("formGroup",p.equipmentForm),a(20),l("disabled",p.equipmentForm.invalid))},dependencies:[K,G,U,$,L,O,z,H]});let o=e;return o})();var Z=[{path:"",component:Q},{path:"new-equipment",component:w},{path:"edit-equipment/:id",component:w}],W=(()=>{let e=class e{};e.\u0275fac=function(m){return new(m||e)},e.\u0275mod=b({type:e}),e.\u0275inj=E({imports:[q.forChild(Z),q]});let o=e;return o})();var ye=(()=>{let e=class e{};e.\u0275fac=function(m){return new(m||e)},e.\u0275mod=b({type:e}),e.\u0275inj=E({imports:[S,W]});let o=e;return o})();export{ye as EquipmentModule};
